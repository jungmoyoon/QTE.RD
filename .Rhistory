use_r(name=QTE.RD_package)
devtools::check(manual=TRUE)
devtools::check
devtools::check()
devtools::build_manual()
devtools::build_manual()
devtools::load_all(".")
library(devtools)
use_r("QTE.RD-package")
use_r("QTE.RD-package.R")
devtools::build_manual()
devtools::load_all(".")
?cv.bandwidth
?cv.bandwidth
?cv.bandwidth
?cv.bandwidth
?cv.bandwidth
?rd.qte
?rdq.band
?rdq.bandwidth
?rd/qte
?rd.qte
?rd.qte
?rdq
?rdq
?run.test
?run.test
devtools::build_manual()
?plot.qte
devtools::load_all(".")
?plot.qte
devtools::load_all(".")
?plot.qte
devtools::build_manual()
devtools::load_all(".")
?cv.bandwidth
?make.band
?make.band
?make.band.cq
?make.band.cq
?plot.qte
?rd.qte
?rd.qte
?rdq
?rd.qte
?rd.qte
?rdq.band
?rdq.bandwidth
?rdq.bias
?rdq.bias
?rdq.bias
?rdq.condf
?rdq.condf
?rdq.sim
?rdq.test
?rdq.test
?rdq.test
?rdq.test
?run.test
?rdq.test
?run.test
?run.test
?run.test
devtools::load_all(".")
library(devtools)
sethis::use_news_md
usethis::use_news_md
usethis::use_news_md()
rhub::check_for_cran()
library(rhub)
install.packages(rhub)
install.packages("rhub")
linrary(rhub)
library(rhub)
rhub::check_for_cran()
devtools::build_manual()
use_r(QTE.RD.R)
use_r("QTE.RD.R")
?`QTE.RD-package`
?QTE.RD
?`QTE.RD-package`
?`QTE.RD-package`
?QTE.RD-package
?QTE.RD-package
usethis::use_package_doc()
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
devtools::build_manual()
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
devtools::build_manual()
?`QTE.RD-package`
devtools::build_manual()
devtools::load_all(".")
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
devtools::build_manual()
?`QTE.RD-package`
devtools::build_manual()
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
?`QTE.RD-package`
devtools::build_manual()
usethis::use_news_md()
devtools::build_manual()
libary(goodpractice)
library(goodpractice)
install.packages("goodpractice")
library(goodpractice)
goodpractice::gp()
devtools::load_all(".")
?rd.qte
?rdq.band
library(devtools)
usethis::use_testthat()
devtools::test()
devtools::check()
devtools::load_all(".")
?rdq
devtools:check()
devtools:check()
devtools::check(
)
usethis::use_spell_check()
usethis::use_spell_check()
devtools::check()
rhub::check_for_cran()
devtools::check()
devtools::check()
usethis::use_cran_comments(open = rlang::is_interactive())
devtools::release()
spell_check()
devtools::release()
check_rhub()
install.packages(V8)
install.packages("V8")
check_rhub()
library(V8)
check_rhub()
devtools::check()
devtools::run_examples()
rhub::check_for_cran()
devtools::check_win_devel()
?rd.qte
?plot.qte
check_rhub()
?rd.qte
check_rhub()
devtools::release()
library(devtools)
devtools::install_deps()
devtools::install_deps
devtools::install_deps()
devtools::load_all(".")
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::load_all(".")
par()
par$mar
par$mar()
par$mfrow()
par$mfrow
par(no.readonly=T)
n = 500
x = runif(n,min=-4,max=4)
d = (x > 0)
y = x + 0.3*(x^2) - 0.1*(x^3) + 1.5*d + rnorm(n)
tlevel = seq(0.1,0.9,by=0.1)
A = rd.qte(y=y,x=x,d=d,x0=0,z0=NULL,tau=tlevel,bdw=2,cov=0,bias=1,cband=1,alpha=0.1)
plot.qte(A)
par()
y.text = "test scores"
m.text = "QTE and Uniform band"
plot.qte(A,ytext=y.text,mtext=m.text)
z = sample(c(0,1),n,replace=T)
y = x + 0.3*(x^2) - 0.1*(x^3) + 1.5*d + d*z + rnorm(n)
A = rd.qte(y=y,x=cbind(x,z),d=d,x0=0,z0=c(0,1),tau=tlevel,bdw=2,cov=1,bias=1,cband=1,alpha=0.1)
y.text = "test scores"
m.text = c("D=0","D=1")
plot.qte(A,ytext=y.text,mtext=m.text)
par()
n = 500
x = runif(n,min=-4,max=4)
d = (x > 0)
y = x + 0.3*(x^2) - 0.1*(x^3) + 1.5*d + rnorm(n)
tlevel = seq(0.1,0.9,by=0.1)
A = rd.qte(y=y,x=x,d=d,x0=0,z0=NULL,tau=tlevel,bdw=2,cov=0,bias=1,cband=1,alpha=0.1)
plot.qte(A,ptype=2)
y.text = "test scores"
m.text = "Conditional quantile functions"
sub.text = c("D=0 group","D=1 group")
plot.qte(A,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
par()
n = 500
x = runif(n,min=-4,max=4)
d = (x > 0)
y = x + 0.3*(x^2) - 0.1*(x^3) + 1.5*d + rnorm(n)
tlevel = seq(0.1,0.9,by=0.1)
A = rd.qte(y=y,x=x,d=d,x0=0,z0=NULL,tau=tlevel,bdw=2,cov=0,bias=1,cband=1,alpha=0.1)
plot.qte(A,ptype=2)
y.text = "test scores"
m.text = "Conditional quantile functions"
sub.text = c("D=0 group","D=1 group")
plot.qte(A,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
devtools::run_examples()
devtools::document()
revdepcheck::revdep_check()
devtools::spell_check()
devtools::check_win_devel()
devtools::submit_cran()
devtools::load_all(".")
library(devtools)
devtools::check(manual=TRUE)
evtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
linrary(rhub)
library(rhub)
rhub::check_for_cran()
devtools::build_manual()
devtools::build_manual()
rhub::check_for_cran()
devtools::submit_cran()
git remote add origin https://github.com/jungmoyoon/QTE_RD.git
echo "# QTE_RD" >> README.md
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
gh_token_help()
rlang::last_trace()
usethis::use_pkgdown_github_pages()
library(devtools)
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
usethis::use_git_config(user.name="jungmoyoon", user.email="jmyoon@hanyang.ac.kr")
usethis::use_github()
usethis::use_git_remote("origin", url = NULL, overwrite = TRUE)
usethis::use_github()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
devtools::load_all(".")
devtools::load_all(".")
document()
documents()
library(devtools)
documents()
document()
devtools::build_manual()
devtools::load_all(".")
devtools::build_manual()
devtools::build_manual()
devtools::load_all(".")
devtools::build_manual()
devtools::load_all(".")
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::load_all(".")
print.qte
library(haven)
data <- read_dta("/Users/jyoon/Dropbox/papers_slides/RDD_papers/Duflo_Dupas_Kremer/student_test_data.dta")
set.seed(11445)
trk <- data$tracking		# schools sampled for tracking
con <- data$etpteacher		# students assigned to a contract teacher
low <- data$lowstream		# students assigned to low-ability class (in tracking schools)
ts <- as.numeric(data$totalscore)	# endline total score
yy <- (ts - mean(ts[trk==0],na.rm=T))/sd(ts[trk==0],na.rm=T)
xx <- as.numeric(data$percentile)		# percentile rank from the initial test
yc <- yy[trk==1]
xc <- xx[trk==1]
dc <- 1-low[trk==1]	# high-ability section (if tracking schools)
x0 <- 50
tlevel <- 1:9/10
hh <- 20
A <- rd.qte(y=yc,x=xc,d=dc,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1)
A
A2 <- summary.qte(A,alpha=0.1)
A2
Ab <- rdq.band(y=yc,x=xc,d=dc,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,alpha=0.1)
Ab
A <- rd.qte(y=yc,x=xc,d=dc,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=0)
A2 <- summary.qte(A,alpha=0.1)
A2
y.text <- "test scores"
m.text <- "Effects of assignment to lower vs. upper sections"
plot(A2,ytext=y.text,mtext=m.text)
y.text <- "test scores"
m.text <- "Conditional quantile functions"
sub.text <- c("Upper section","Lower section")
plot(A2,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
B <- rdq.test(y=yc,x=xc,d=dc,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1,alpha=c(0.1,0.05),type=c(1,2,3,4),std.opt=1)
B
C <- rdq.bandwidth(y=yc,x=xc,d=dc,x0,z0=NULL,cov=0,cv=1,val=(5:20),hp=10,pm.each=0,bdy=1,p.order=1,xl=0.5)
C
zc <- data$girl[trk==1]
z.eval <- c(0,1)
A <- rd.qte(y=yc,x=cbind(xc,zc),d=dc,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A
A2 <- summary.qte(A,alpha=0.1)
A2
y.text <- "test scores"
m.text <- c("Boys","Girls")
plot(A2,ytext=y.text,mtext=m.text)
y.text <- "test scores"
m.text <- c("Boys","Girls")
sub.text <- c("Upper section","Lower section")
plot(A2,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
B <- rdq.test(y=yc,x=cbind(xc,zc),d=dc,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1,alpha=c(0.1,0.05),type=c(1,2,3,4))
B
C <- rdq.bandwidth(y=yc,x=cbind(xc,zc),d=dc,x0,z0=z.eval,cov=1,cv=1,val=(5:20),hp=10,pm.each=0,bdy=1,p.order=1,xl=0.5)
C
D <- rdq.band(y=yc,x=cbind(xc,zc),d=dc,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,alpha=0.1)
D
x0 <- 50
dr <- trk
A <- rd.qte(y=yy,x=xx,d=dr,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
# QTE plot
y.text = "test scores"
m.text = "Effects of tracking"
plot(A2,ytext=y.text,mtext=m.text)
# conditional quantiles plot
m.text <- "Conditional quantile functions"
sub.text <- c("Tracking schools","Non-tracking schools")
plot(A2,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
A <- rd.qte(y=yy,x=xx,d=dr,x0=20,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1)
A
A <- rd.qte(y=yy,x=xx,d=dr,x0=80,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1)
A
zw <- cbind(data$girl,con)
z.eval <- cbind(rep(c(0,1),2),rep(c(0,1),each=2))
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0=50,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
# QTE plot
m.text <- c("boys & regular teachers","girls & regular teachers","boys & contract teachers","girls & contract teachers")
plot(A2,ytext=y.text,mtext=m.text)
zw <- data$agetest
z.eval <- c(7,9,10,11)
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0=50,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
y.text <- "test scores"
m.text <- c("age 7","age 9","age 10","age 12")
plot(A2,ytext=y.text,mtext=m.text)
B <- rdq.test(y=yy,x=cbind(xx,zw),d=dr,x0=50,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1,alpha=c(0.1,0.05),type=c(1,2,3,4))
B
x0 <- 50
dr <- trk
A <- rd.qte(y=yy,x=xx,d=dr,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
y.text = "test scores"
m.text = "Effects of tracking"
plot(A2,ytext=y.text,mtext=m.text)
m.text <- "Conditional quantile functions"
sub.text <- c("Tracking schools","Non-tracking schools")
plot(A2,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
B <- rdq.test(y=yy,x=xx,d=dr,x0,z0=NULL,tau=tlevel,bdw=hh,cov=0,bias=1,alpha=c(0.1,0.05),type=c(1,2,3,4))
zw <- con
z.eval <- c(0,1)
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
# QTE plot
y.text <- "test scores"
m.text <- c("regular teachers","contract teachers")
plot(A,ytext=y.text,mtext=m.text)
plot(A2,ytext=y.text,mtext=m.text)
y.text <- "test scores"
m.text <- c("regular teachers","contract teachers")
plot(A2,ytext=y.text,mtext=m.text)
B <- rdq.test(y=yy,x=cbind(xx,zw),d=dr,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1,alpha=c(0.1,0.05),type=c(1,2,3,4))
B
zw <- data$girl
z.eval <- c(0,1)
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1,cband=1,alpha=0.1)
zw <- data$girl
z.eval <- c(0,1)
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
# QTE plot
m.text = c("Boys","Girls")
plot(A2,ytext=y.text,mtext=m.text)
zw <- cbind(data$girl,con)
z.eval <- cbind(rep(c(0,1),2),rep(c(0,1),each=2))
A <- rd.qte(y=yy,x=cbind(xx,zw),d=dr,x0=50,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
# QTE plot
m.text <- c("boys & regular teachers","girls & regular teachers","boys & contract teachers","girls & contract teachers")
plot(A2,ytext=y.text,mtext=m.text)
devtools::load_all(".")
zc <- data$girl[trk==1]
z.eval <- c(0,1)
A <- rd.qte(y=yc,x=cbind(xc,zc),d=dc,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
y.text <- "test scores"
m.text <- c("Boys","Girls")
plot(A2,ytext=y.text,mtext=m.text)
y.text <- "test scores"
m.text <- c("Boys","Girls")
sub.text <- c("Upper section","Lower section")
plot(A2,ptype=2,ytext=y.text,mtext=m.text,subtext=sub.text)
zc <- con[trk==1]
z.eval <- c(0,1)
A <- rd.qte(y=yc,x=cbind(xc,zc),dc,x0,z0=z.eval,tau=tlevel,bdw=hh,cov=1,bias=1)
A2 <- summary.qte(A,alpha=0.1)
A2
devtools::build_manual()
devtools::build_manual()
devtools::build_manual()
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::build_manual()
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::build_manual()
devtools::load_all(".")
devtools::build_manual()
devtools::load_all(".")
devtools::build_manual()
build()
library(devtools)
build()
devtools::load_all(".")
devtools::load_all(".")
devtools::check_win_devel()
devtools::load_all(".")
devtools::submit_cran()
usethis:use_readme_rmd()
library(usethis)
usethis:use_readme_rmd()
library("usethis")
usethis:use_readme_rmd()
library("devtools")
usethis:use_readme_rmd()
usethis::use_readme_rmd()
usethis::use_readme_rmd()
devtools::build_readme()
devtools::build_readme()
devtools::build_readme()
setwd("/Users/jyoon/Dropbox/work.in.progress/make_R_package/R-Journal_submission/R_code-Data_2024Aug")
library(haven)
## Data and variables
data <- read_dta("student_test_data.dta")
dim(data)
names(data)
dim(data)
ls()
rm(data)
library(haven)
## Data and variables
ddk <- read_dta("student_test_data.dta")
dim(ddk)
save(ddk, file="ddk_2011.rda")
library("devtools")
usethis::use_data(ddk_2011)
setwd("~/Dropbox/work.in.progress/make_R_package/make_QTE_RD/QTE.RD")
getwd()
usethis::use_data(ddk_2011)
dim(ddk)
save(ddk, file="ddk_2011.rda")
usethis::use_data(ddk_2011)
getwd()
dim(ddk_2011)
dim(ddk)
is.data.frame(ddk)
ddk_2011 <- ddk
dim(ddk_2011)
usethis::use_data(ddk_2011)
load_all()
library("devtools")
load_all()
